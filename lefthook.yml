pre-commit:
  parallel: true
  commands:
    # 1) 먼저 포맷을 "수정"한다
    prettier_write:
      glob: '*.{js,jsx,ts,tsx,css,md,mdx,json}'
      run: pnpm prettier --write {staged_files}

    # 2) 수정된 결과를 다시 stage 시킨 뒤(Prettier가 자동으로 함),
    #    체크도 통과하는지 한 번 더 확인하고 싶으면 아래 유지
    prettier_check:
      glob: '*.{js,jsx,ts,tsx,css,md,mdx,json}'
      run: pnpm prettier --check {staged_files}

    # 3) ESLint 검사
    eslint:
      glob: '*.{js,jsx,ts,tsx}'
      run: pnpm eslint {staged_files}

    # 4) 타입체크 (조건 분기 제거 → cross-platform)
    types:
      run: pnpm tsc --noEmit